(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var v=globalThis&&globalThis.__classPrivateFieldGet||function(o,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!s:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(o):s?s.value:e.get(o)},m,R,V,F,b,A;class J{constructor(e){m.add(this),this.attributes={container:"container",region:"region",toggle:"toggle"},this.disclosures=new Map;const t={idPrefix:"disclosure_",activeClass:"disclosure-active",targetAttribute:"data-disclosure",duration:200,defaultState:!1,closeAll:!0};this.config=Object.assign(Object.assign({},t),e),v(this,m,"m",R).call(this)}}m=new WeakSet,R=function(){document.querySelectorAll(`[${this.config.targetAttribute}="${this.attributes.container}"]`).forEach((t,s)=>{let i=this.config.defaultState;t.hasAttribute(`${this.config.targetAttribute}-state`)&&(i=t.getAttribute(`${this.config.targetAttribute}-state`)==="true"),this.disclosures.set(t,{index:s,state:i,region:t.querySelector(`[${this.config.targetAttribute}="${this.attributes.region}"]`),regionScrollHeight:0,togglers:t.querySelectorAll(`[${this.config.targetAttribute}="${this.attributes.toggle}"]`)}),v(this,m,"m",V).call(this,t)})},V=function(e){const t=this.disclosures.get(e);!t||(v(this,m,"m",b).call(this,e,t.state,!1),v(this,m,"m",A).call(this,t),v(this,m,"m",b).call(this,t.region,t.state,!0),t.region.style.transition=`max-height ${this.config.duration}ms ease-in-out`,t.region.style.overflow="hidden",t.region.setAttribute("role","region"),t.region.setAttribute("id",`${this.config.idPrefix}region-${t.index}`),t.togglers.forEach((s,i)=>{s.setAttribute("role","button"),s.setAttribute("aria-controls",t.region.id),s.setAttribute("id",`${this.config.idPrefix}toggler-${t.index}-${i}`),i===0&&t.region.setAttribute("aria-labelledby",t.togglers[0].id),s.addEventListener("click",a=>{a.preventDefault(),v(this,m,"m",F).call(this,e)}),s.addEventListener("keydown",a=>{(a.key===" "||a.key==="Enter")&&(a.preventDefault(),v(this,m,"m",F).call(this,e))})}))},F=function(e){const t=this.disclosures.get(e);if(!!t){if(t.state=!t.state,this.config.closeAll&&t.state)for(let[s,i]of this.disclosures.entries())s!==e&&(i.state=!1,v(this,m,"m",b).call(this,s,i.state,!1),v(this,m,"m",A).call(this,i),v(this,m,"m",b).call(this,i.region,i.state,!0));v(this,m,"m",b).call(this,e,t.state,!1),v(this,m,"m",A).call(this,t),v(this,m,"m",b).call(this,t.region,t.state,!0)}},b=function(e,t,s){t?(e.classList.add(this.config.activeClass),s&&(e.style.maxHeight=e.scrollHeight+"px")):(e.classList.remove(this.config.activeClass),s&&(e.style.maxHeight="0px"))},A=function(e){e.togglers.forEach(t=>{e.state?(t.classList.add(this.config.activeClass),t.setAttribute("aria-expanded","true")):(t.classList.remove(this.config.activeClass),t.setAttribute("aria-expanded","false"))})};class Y{constructor(e,t){var s,i,a;this.config={triggerDistance:(t==null?void 0:t.triggerDistance)||50,classes:{top:((s=t==null?void 0:t.classes)===null||s===void 0?void 0:s.top)||"sticky-top",movedDown:((i=t==null?void 0:t.classes)===null||i===void 0?void 0:i.movedDown)||"sticky-down",movedUp:((a=t==null?void 0:t.classes)===null||a===void 0?void 0:a.movedUp)||"sticky-up"},onChange:(t==null?void 0:t.onChange)||void 0,onScroll:(t==null?void 0:t.onScroll)||void 0},this.scrollPos=document.body.scrollTop||document.documentElement.scrollTop,this.prevScrollPos=this.scrollPos,this.state=void 0,this.prevState=void 0,this.headerEle=document.getElementById(e),this.headerEle!==void 0?(this.onScroll=function(){this.scrollPos=document.body.scrollTop||document.documentElement.scrollTop,this.scrollPos>this.config.triggerDistance?this.scrollPos>this.prevScrollPos?(this.state=this.config.classes.movedDown,this.prevScrollPos=this.scrollPos):(this.state=this.config.classes.movedUp,this.prevScrollPos=this.scrollPos):this.state=this.config.classes.top,this.prevState!=this.state&&(this.prevState=this.state,this.state!=this.config.classes.movedDown&&this.headerEle.classList.remove(this.config.classes.movedDown),this.state!=this.config.classes.movedUp&&this.headerEle.classList.remove(this.config.classes.movedUp),this.state!=this.config.classes.top&&this.headerEle.classList.remove(this.config.classes.top),this.headerEle.classList.add(this.state),this.config.onChange!=null&&this.config.onChange({state:this.state,scrollPos:this.scrollPos})),this.config.onScroll!=null&&this.config.onScroll({state:this.state,scrollPos:this.scrollPos})},this.onScrollHandler=this.onScroll.bind(this),this.onScrollHandler(),window.addEventListener("scroll",this.onScrollHandler,!0)):console.error(`Header with an ID of ${e} cannot be found!`)}destroy(){this.onScrollHandler&&window.removeEventListener("scroll",this.onScrollHandler,!0),this.headerEle.classList.remove(this.config.classes.movedDown),this.headerEle.classList.remove(this.config.classes.movedUp),this.headerEle.classList.remove(this.config.classes.top)}}var g=globalThis&&globalThis.__classPrivateFieldGet||function(o,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!s:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(o):s?s.value:e.get(o)},d,W,O,x,$,p,k;class Q{constructor(e){d.add(this),this.config=Object.assign({activeClass:"active",attributes:{toggler:"data-toggler",receiver:"data-toggler-receiver",class:"data-toggler-class",state:"data-toggler-state",close:"data-toggler-close",targets:"data-toggler-targets",function:"data-toggler-function"},functions:{}},e),this.map=new Map,g(this,d,"m",W).call(this)}toggle(e,t){const s=this.map.get(e);if(!s)return;const i=t===void 0?!s.state:t;s.targets.length>0?(s.state=i,g(this,d,"m",$).call(this,s,e)):(s.state=i,g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${e}"]`),s,!0),g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.receiver}="${e}"]`),s,!1))}}d=new WeakSet,W=function(){[...document.querySelectorAll(`[${this.config.attributes.toggler}]`)].map(t=>{const s=t.getAttribute(this.config.attributes.toggler);if(!s)return;const i=t.getAttribute(this.config.attributes.targets),a=i?i.replaceAll(" ","").split(","):[],r=t.getAttribute(this.config.attributes.close),n=r?r.replaceAll(" ","").split(","):[];this.map.has(s)||(this.map.set(s,{state:t.getAttribute(this.config.attributes.state)==="true",activeClass:t.getAttribute(this.config.attributes.class)||this.config.activeClass,closeTogglers:n,targets:a,function:t.getAttribute(this.config.attributes.function)||void 0}),a.length>0?g(this,d,"m",x).call(this,t):g(this,d,"m",O).call(this,t))}),this.map.forEach((t,s)=>{t.targets.length>0&&t.state&&g(this,d,"m",$).call(this,t,s)})},O=function(e){const t=e.getAttribute(this.config.attributes.toggler);if(!t)return;const s=this.map.get(t);if(!s)return;const i=()=>{g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.receiver}="${t}"]`),s,!1),g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${t}"]`),s,!0),s.closeTogglers.map(r=>{const n=this.map.get(r);!n||(n.state=!1,g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${r}"]`),n,!0),g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.receiver}="${r}"]`),n,!1))})};i();const a=()=>{this.map.forEach((r,n)=>{s.state?r.targets.includes(t)&&r.targets.every(l=>{const f=this.map.get(l);return f?f.state:!1})&&(r.state=!0,g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${n}"]`),r,!0)):r.targets.includes(t)&&(r.state=!1,g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${n}"]`),r,!0))})};e.addEventListener("click",r=>{r.preventDefault(),s.state=!s.state,g(this,d,"m",k).call(this,s,e),i(),a()})},x=function(e){const t=e.getAttribute(this.config.attributes.toggler);if(!t)return;const s=this.map.get(t);!s||e.addEventListener("click",i=>{i.preventDefault(),g(this,d,"m",k).call(this,s,e),s.state=!s.state,g(this,d,"m",$).call(this,s,t)})},$=function(e,t){e.targets.map(s=>{const i=this.map.get(s);!i||(i.state=e.state,g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${s}"]`),i,!0),g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.receiver}="${s}"]`),i,!1))}),g(this,d,"m",p).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${t}"]`),e,!0)},p=function(e,t,s){[...e].map(i=>{t.state?(i.classList.add(t.activeClass),s&&i.setAttribute("aria-expanded","true")):(i.classList.remove(t.activeClass),s&&i.setAttribute("aria-expanded","false"))})},k=function(e,t){if(e.function){const s=this.config.functions[e.function];s&&s(e,t)}};var M=globalThis&&globalThis.__classPrivateFieldGet||function(o,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!s:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(o):s?s.value:e.get(o)},C,N,I,q;class X{constructor(e){C.add(this),q.set(this,(t,s)=>{t.forEach(i=>{const a=i.target,r=this.map.get(a);if(r){const n=l=>{setTimeout(()=>{a.classList.add(l.class)},l.delay||0)},u=l=>{a.classList.remove(l.class)};i.isIntersecting?(a.classList.add(this.config.activeClass),r.forEach(l=>{n(l)})):(this.config.reset&&a.classList.remove(this.config.activeClass),r.forEach(l=>{l.reset&&u(l)}))}})}),this.config=Object.assign({reset:!0,activeClass:"animate",threshold:1,attributes:{animate:"data-animate"}},e),this.map=new WeakMap,M(this,C,"m",N).call(this)}}q=new WeakMap,C=new WeakSet,N=function(){const e=new IntersectionObserver(M(this,q,"f"),{threshold:this.config.threshold});[...document.querySelectorAll(`[${this.config.attributes.animate}]`)].forEach(s=>{const i=s.getAttribute(this.config.attributes.animate),a=M(this,C,"m",I).call(this,i);this.map.set(s,a),e.observe(s)})},I=function(e){const t=e.replace(/'/g,'"').replace(/([a-zA-Z0-9]+):/g,'"$1":').replace(/:(?=[a-zA-Z0-9])/g,':"').replace(/,(?=[a-zA-Z0-9])/g,'",').replace(/}$/,'"}');return[...JSON.parse(t)].filter(i=>{if(i.class!==void 0)return i.delay=i.delay||0,i.reset=typeof i.reset=="boolean"?i.reset:this.config.reset,i})};class tt{constructor(e){this.src=e.src,this.key=e.key}addScript(){const e=document.createElement("script");e.src=this.src,e.async=!0,e.defer=!0,document.head.appendChild(e)}setToken(e){sessionStorage.setItem("recaptcha-token",e),sessionStorage.setItem("recaptcha-valid","true")}waitUntilValid(){return new Promise(e=>{sessionStorage.setItem("recaptcha-valid","false");const t=setInterval(()=>{sessionStorage.getItem("recaptcha-valid")==="true"&&(clearInterval(t),e(!0))},50)})}}var et=globalThis&&globalThis.__awaiter||function(o,e,t,s){function i(a){return a instanceof t?a:new t(function(r){r(a)})}return new(t||(t=Promise))(function(a,r){function n(f){try{l(s.next(f))}catch(_){r(_)}}function u(f){try{l(s.throw(f))}catch(_){r(_)}}function l(f){f.done?a(f.value):i(f.value).then(n,u)}l((s=s.apply(o,e||[])).next())})};const L="turnstile-con";class st extends tt{constructor(e){super({src:"https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",key:e})}initialise(e){this.addScript();const t=document.createElement("div");t.id=L,e.appendChild(t),window.onloadTurnstileCallback=()=>{turnstile.render(`#${L}`,{sitekey:this.key,callback:s=>{this.setToken(s)}})}}refresh(){return et(this,void 0,void 0,function*(){return turnstile.reset(`#${L}`),yield this.waitUntilValid(),!0})}}const Z=(o,e)=>{if(!e||!o)return o;for(const t of Object.keys(e))e[t]instanceof Object&&Object.assign(e[t],Z(o[t],e[t]));return Object.assign(o||{},e),o},it=Z;var ot=globalThis&&globalThis.__awaiter||function(o,e,t,s){function i(a){return a instanceof t?a:new t(function(r){r(a)})}return new(t||(t=Promise))(function(a,r){function n(f){try{l(s.next(f))}catch(_){r(_)}}function u(f){try{l(s.throw(f))}catch(_){r(_)}}function l(f){f.done?a(f.value):i(f.value).then(n,u)}l((s=s.apply(o,e||[])).next())})},h=globalThis&&globalThis.__classPrivateFieldGet||function(o,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?o!==e||!s:!e.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(o):s?s.value:e.get(o)},c,K,B,G,w,H,j,U,E,P,y,T,D,z;const S="error";class at{constructor(e,t){c.add(this),this.config={},this.inputValidationLock=!0,this.form=document.querySelector(e),this.form&&(this.config=it({recaptcha:void 0,flashMessage:void 0,disableSubmit:!0,resetOnSuccess:!0,action:this.form.getAttribute("action")||void 0,errorClass:S,localisation:{validationError:"There was a problem validating your form data, please try again.",error:"There was an error with your submission.",success:"Thank you for your submission."},validate:{onChange:!0,onSubmit:!0},customValidation:[],attributes:{inputRelation:"data-input-relation",inputError:"data-input-error"}},t||{}),h(this,c,"m",K).call(this))}}c=new WeakSet,K=function(){this.form.setAttribute("novalidate","true"),h(this,c,"m",G).call(this),h(this,c,"m",B).call(this),h(this,c,"m",T).call(this,!1),this.config.recaptcha&&this.config.recaptcha.initialise(this.form)},B=function(){var e;this.form.addEventListener("change",t=>{var s;!((s=this.config.validate)===null||s===void 0)&&s.onChange&&h(this,c,"m",H).call(this,t.target)},{passive:!0}),!((e=this.config.validate)===null||e===void 0)&&e.onChange&&[...this.form.querySelectorAll("input, textarea, select")].forEach(s=>{s.addEventListener("change",()=>{if(this.inputValidationLock){s.type==="file"&&h(this,c,"m",w).call(this,s);return}h(this,c,"m",w).call(this,s)})},{passive:!0})},G=function(){this.form.addEventListener("submit",e=>{var t,s;if(e.preventDefault(),h(this,c,"m",y).call(this,"loading"),!((t=this.config.validate)===null||t===void 0)&&t.onSubmit&&!h(this,c,"m",H).call(this,this.form).valid){this.config.flashMessage&&this.config.flashMessage.flash(((s=this.config.localisation)===null||s===void 0?void 0:s.validationError)||"",!1),h(this,c,"m",y).call(this,"error"),this.inputValidationLock=!1;return}this.inputValidationLock=!0,h(this,c,"m",z).call(this)})},w=function(e){if(!e||e.type==="submit")return;e.setCustomValidity(""),h(this,c,"m",U).call(this,e),e.type==="file"&&h(this,c,"m",j).call(this,e);const t=e.checkValidity(),s=e.name,i=[];return t||i.push(e.validationMessage),h(this,c,"m",E).call(this,t,s,i),{name:s,valid:t,message:i}},H=function(e){const t=e.querySelectorAll("input, textarea, select"),s=[];return[...t].forEach(i=>{const a=h(this,c,"m",w).call(this,i);a&&s.push(a)}),{inputs:s,valid:e.checkValidity()}},j=function(e){const t=[],s=(r,n)=>{if(!r){n!==void 0?t.push(`File ${n+1} is not a valid type.`):t.push("Please make sure your file is a valid type.");return}e.accept.includes(r)||(n!==void 0?t.push(`File ${n+1} is not a valid type.`):t.push("Please make sure your file is a valid type."))},i=(r,n)=>{const u=e.getAttribute("accept-max"),l=e.getAttribute("accept-min");if(u!==null){const f=(parseInt(u)||0)*1024;r>f&&(n!==void 0?t.push(`File ${n+1} is too large.`):t.push(`Please make sure your file is smaller than ${h(this,c,"m",D).call(this,f)}.`))}if(l!==null){const f=(parseInt(l)||0)*1024;r<f&&(n!==void 0?t.push(`File ${n+1} is too small.`):t.push(`Please make sure your file is larger than ${h(this,c,"m",D).call(this,f)}.`))}},a=e.files;if(!!(a!=null&&a.length)){if(a.length>1)for(let r=0;r<a.length;r++){const n=a[r];s(n.type,r),i(n.size,r)}else{const r=a[0];s(r.type),i(r.size)}t.length&&(e.setCustomValidity(t.join(" ")),h(this,c,"m",E).call(this,!1,e.name,t))}},U=function(e){var t;!((t=this.config.customValidation)===null||t===void 0)&&t.length&&this.config.customValidation.forEach(s=>{if(e.name===s.name){let i=s.validator(e.value);e.setCustomValidity(i)}})},E=function(e,t,s){var i,a;const r=this.form.querySelector('[name="'+t+'"]');if(!r)return;[...this.form.querySelectorAll(`[${(i=this.config.attributes)===null||i===void 0?void 0:i.inputRelation}="${t}"]`)].forEach(l=>{e?l.classList.remove(this.config.errorClass||S):l.classList.add(this.config.errorClass||S)}),[...this.form.querySelectorAll(`[${(a=this.config.attributes)===null||a===void 0?void 0:a.inputError}="${t}"]`)].forEach(l=>{e?l.classList.remove(this.config.errorClass||S):(l.classList.add(this.config.errorClass||S),l.innerText=s.join(" "))}),e?(r.classList.remove(this.config.errorClass||S),r.setAttribute("aria-invalid","false")):(r.classList.add(this.config.errorClass||S),r.setAttribute("aria-invalid","true"))},P=function(e){for(let t in e)h(this,c,"m",E).call(this,!1,t,e[t])},y=function(e){this.form.setAttribute("data-form-state",e),e==="loading"&&h(this,c,"m",T).call(this,!0),(e==="success"||e==="error")&&h(this,c,"m",T).call(this,!1),e==="success"&&setTimeout(()=>{this.form.removeAttribute("data-form-state")},2e3)},T=function(e){this.config.disableSubmit&&[...this.form.querySelectorAll("input[type=submit]")].forEach(s=>{s.disabled=e})},D=function(e,t=0){if(!+e)return"0 Bytes";const s=1024,i=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(s));return`${parseFloat((e/Math.pow(s,r)).toFixed(i))} ${a[r]}`},z=function(){var e,t,s,i,a;return ot(this,void 0,void 0,function*(){if(!this.config.action)return;this.config.recaptcha&&(yield this.config.recaptcha.refresh());const r=new FormData(this.form);if([...this.form.querySelectorAll("input[type='file']")].forEach(u=>{!u.required&&!u.value&&r.delete(u.name)}),this.config.send!==void 0){const u=yield this.config.send(this.config.action,r);u.success?(this.config.flashMessage&&this.config.flashMessage.flash(u.message||((e=this.config.localisation)===null||e===void 0?void 0:e.success)||"",!0),this.config.onSuccess&&this.config.onSuccess(this.form,u),this.config.resetOnSuccess&&this.form.reset(),h(this,c,"m",y).call(this,"success")):(u.errors!==void 0&&h(this,c,"m",P).call(this,u.errors),this.config.flashMessage&&this.config.flashMessage.flash(u.message||((t=this.config.localisation)===null||t===void 0?void 0:t.validationError)||"",!1),this.config.onError&&this.config.onError(this.form,u),h(this,c,"m",y).call(this,"error"))}else try{const l=yield(yield fetch(this.config.action,{method:"POST",body:r})).json();l.errors!==void 0?(h(this,c,"m",P).call(this,l.errors),this.config.flashMessage&&this.config.flashMessage.flash(l.message||((s=this.config.localisation)===null||s===void 0?void 0:s.validationError)||"",!1),this.config.onError&&this.config.onError(this.form,l),h(this,c,"m",y).call(this,"error")):(this.config.flashMessage&&this.config.flashMessage.flash(l.message||((i=this.config.localisation)===null||i===void 0?void 0:i.success)||"",!0),this.config.onSuccess&&this.config.onSuccess(this.form,l),this.config.resetOnSuccess&&this.form.reset(),h(this,c,"m",y).call(this,"success"))}catch{this.config.flashMessage&&this.config.flashMessage.flash(((a=this.config.localisation)===null||a===void 0?void 0:a.error)||"",!1)}})};new J({idPrefix:"disclosure_",activeClass:"disclosure-active",targetAttribute:"data-disclosure",duration:200,defaultState:!1,closeAll:!0});new Y("siteHeader",{triggerDistance:50,classes:{top:"sticky-top",movedDown:"sticky-down",movedUp:"sticky-up"},onChange:()=>{},onScroll:()=>{}});new Q({activeClass:"active",functions:{updateDonkeys:(o,e)=>{console.log("updateDonkeys",o,e)}}});new X({activeClass:"animate",reset:!0,threshold:1});new at("#form",{recaptcha:new st("0x4AAAAAAABGWcyvpwR-o35g"),validate:{onChange:!0,onSubmit:!0},onSuccess:(o,e)=>{console.log("Success",o,e)},onError:(o,e)=>{console.log("Error",o,e)}});
