(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var f=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},d,W,P,T,b,w;class Z{constructor(e){d.add(this),this.attributes={container:"container",region:"region",toggle:"toggle"},this.disclosures=new Map;const t={idPrefix:"disclosure_",activeClass:"disclosure-active",targetAttribute:"data-disclosure",duration:200,defaultState:!1,closeAll:!0};this.config=Object.assign(Object.assign({},t),e),f(this,d,"m",W).call(this)}}d=new WeakSet,W=function(){document.querySelectorAll(`[${this.config.targetAttribute}="${this.attributes.container}"]`).forEach((t,s)=>{let i=this.config.defaultState;t.hasAttribute(`${this.config.targetAttribute}-state`)&&(i=t.getAttribute(`${this.config.targetAttribute}-state`)==="true"),this.disclosures.set(t,{index:s,state:i,region:t.querySelector(`[${this.config.targetAttribute}="${this.attributes.region}"]`),regionScrollHeight:0,togglers:t.querySelectorAll(`[${this.config.targetAttribute}="${this.attributes.toggle}"]`)}),f(this,d,"m",P).call(this,t)})},P=function(e){const t=this.disclosures.get(e);!t||(f(this,d,"m",b).call(this,e,t.state,!1),f(this,d,"m",w).call(this,t),f(this,d,"m",b).call(this,t.region,t.state,!0),t.region.style.transition=`max-height ${this.config.duration}ms ease-in-out`,t.region.style.overflow="hidden",t.region.setAttribute("role","region"),t.region.setAttribute("id",`${this.config.idPrefix}region-${t.index}`),t.togglers.forEach((s,i)=>{s.setAttribute("role","button"),s.setAttribute("aria-controls",t.region.id),s.setAttribute("id",`${this.config.idPrefix}toggler-${t.index}-${i}`),i===0&&t.region.setAttribute("aria-labelledby",t.togglers[0].id),s.addEventListener("click",o=>{o.preventDefault(),f(this,d,"m",T).call(this,e)}),s.addEventListener("keydown",o=>{(o.key===" "||o.key==="Enter")&&(o.preventDefault(),f(this,d,"m",T).call(this,e))})}))},T=function(e){const t=this.disclosures.get(e);if(!!t){if(t.state=!t.state,this.config.closeAll&&t.state)for(let[s,i]of this.disclosures.entries())s!==e&&(i.state=!1,f(this,d,"m",b).call(this,s,i.state,!1),f(this,d,"m",w).call(this,i),f(this,d,"m",b).call(this,i.region,i.state,!0));f(this,d,"m",b).call(this,e,t.state,!1),f(this,d,"m",w).call(this,t),f(this,d,"m",b).call(this,t.region,t.state,!0)}},b=function(e,t,s){t?(e.classList.add(this.config.activeClass),s&&(e.style.maxHeight=e.scrollHeight+"px")):(e.classList.remove(this.config.activeClass),s&&(e.style.maxHeight="0px"))},w=function(e){e.togglers.forEach(t=>{e.state?(t.classList.add(this.config.activeClass),t.setAttribute("aria-expanded","true")):(t.classList.remove(this.config.activeClass),t.setAttribute("aria-expanded","false"))})};class B{constructor(e,t){var s,i,o;this.config={triggerDistance:(t==null?void 0:t.triggerDistance)||50,classes:{top:((s=t==null?void 0:t.classes)===null||s===void 0?void 0:s.top)||"sticky-top",movedDown:((i=t==null?void 0:t.classes)===null||i===void 0?void 0:i.movedDown)||"sticky-down",movedUp:((o=t==null?void 0:t.classes)===null||o===void 0?void 0:o.movedUp)||"sticky-up"},onChange:(t==null?void 0:t.onChange)||void 0,onScroll:(t==null?void 0:t.onScroll)||void 0},this.scrollPos=document.body.scrollTop||document.documentElement.scrollTop,this.prevScrollPos=this.scrollPos,this.state=void 0,this.prevState=void 0,this.headerEle=document.getElementById(e),this.headerEle!==void 0?(this.onScroll=function(){this.scrollPos=document.body.scrollTop||document.documentElement.scrollTop,this.scrollPos>this.config.triggerDistance?this.scrollPos>this.prevScrollPos?(this.state=this.config.classes.movedDown,this.prevScrollPos=this.scrollPos):(this.state=this.config.classes.movedUp,this.prevScrollPos=this.scrollPos):this.state=this.config.classes.top,this.prevState!=this.state&&(this.prevState=this.state,this.state!=this.config.classes.movedDown&&this.headerEle.classList.remove(this.config.classes.movedDown),this.state!=this.config.classes.movedUp&&this.headerEle.classList.remove(this.config.classes.movedUp),this.state!=this.config.classes.top&&this.headerEle.classList.remove(this.config.classes.top),this.headerEle.classList.add(this.state),this.config.onChange!=null&&this.config.onChange({state:this.state,scrollPos:this.scrollPos})),this.config.onScroll!=null&&this.config.onScroll({state:this.state,scrollPos:this.scrollPos})},this.onScrollHandler=this.onScroll.bind(this),this.onScrollHandler(),window.addEventListener("scroll",this.onScrollHandler,!0)):console.error(`Header with an ID of ${e} cannot be found!`)}destroy(){this.onScrollHandler&&window.removeEventListener("scroll",this.onScrollHandler,!0),this.headerEle.classList.remove(this.config.classes.movedDown),this.headerEle.classList.remove(this.config.classes.movedUp),this.headerEle.classList.remove(this.config.classes.top)}}var c=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},l,j,H,q,A,m,E;class J{constructor(e){l.add(this),this.config=Object.assign({activeClass:"active",attributes:{toggler:"data-toggler",receiver:"data-toggler-receiver",class:"data-toggler-class",state:"data-toggler-state",close:"data-toggler-close",targets:"data-toggler-targets",function:"data-toggler-function"},functions:{}},e),this.map=new Map,c(this,l,"m",j).call(this)}toggle(e,t){const s=this.map.get(e);if(!s)return;const i=t===void 0?!s.state:t;s.targets.length>0?(s.state=i,c(this,l,"m",A).call(this,s,e)):(s.state=i,c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${e}"]`),s,!0),c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.receiver}="${e}"]`),s,!1))}}l=new WeakSet,j=function(){[...document.querySelectorAll(`[${this.config.attributes.toggler}]`)].map(t=>{const s=t.getAttribute(this.config.attributes.toggler);if(!s)return;const i=t.getAttribute(this.config.attributes.targets),o=i?i.replaceAll(" ","").split(","):[],a=t.getAttribute(this.config.attributes.close),h=a?a.replaceAll(" ","").split(","):[];this.map.has(s)||(this.map.set(s,{state:t.getAttribute(this.config.attributes.state)==="true",activeClass:t.getAttribute(this.config.attributes.class)||this.config.activeClass,closeTogglers:h,targets:o,function:t.getAttribute(this.config.attributes.function)||void 0}),o.length>0?c(this,l,"m",q).call(this,t):c(this,l,"m",H).call(this,t))}),this.map.forEach((t,s)=>{t.targets.length>0&&t.state&&c(this,l,"m",A).call(this,t,s)})},H=function(e){const t=e.getAttribute(this.config.attributes.toggler);if(!t)return;const s=this.map.get(t);if(!s)return;const i=()=>{c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.receiver}="${t}"]`),s,!1),c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${t}"]`),s,!0),s.closeTogglers.map(a=>{const h=this.map.get(a);!h||(h.state=!1,c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${a}"]`),h,!0),c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.receiver}="${a}"]`),h,!1))})};i();const o=()=>{this.map.forEach((a,h)=>{s.state?a.targets.includes(t)&&a.targets.every(n=>{const u=this.map.get(n);return u?u.state:!1})&&(a.state=!0,c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${h}"]`),a,!0)):a.targets.includes(t)&&(a.state=!1,c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${h}"]`),a,!0))})};e.addEventListener("click",a=>{a.preventDefault(),s.state=!s.state,c(this,l,"m",E).call(this,s,e),i(),o()})},q=function(e){const t=e.getAttribute(this.config.attributes.toggler);if(!t)return;const s=this.map.get(t);!s||e.addEventListener("click",i=>{i.preventDefault(),c(this,l,"m",E).call(this,s,e),s.state=!s.state,c(this,l,"m",A).call(this,s,t)})},A=function(e,t){e.targets.map(s=>{const i=this.map.get(s);!i||(i.state=e.state,c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${s}"]`),i,!0),c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.receiver}="${s}"]`),i,!1))}),c(this,l,"m",m).call(this,document.querySelectorAll(`[${this.config.attributes.toggler}="${t}"]`),e,!0)},m=function(e,t,s){[...e].map(i=>{t.state?(i.classList.add(t.activeClass),s&&i.setAttribute("aria-expanded","true")):(i.classList.remove(t.activeClass),s&&i.setAttribute("aria-expanded","false"))})},E=function(e,t){if(e.function){const s=this.config.functions[e.function];s&&s(e,t)}};var k=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},S,N,x,F;class K{constructor(e){S.add(this),F.set(this,(t,s)=>{t.forEach(i=>{const o=i.target,a=this.map.get(o);if(a){const h=n=>{setTimeout(()=>{o.classList.add(n.class)},n.delay||0)},v=n=>{o.classList.remove(n.class)};i.isIntersecting?(o.classList.add(this.config.activeClass),a.forEach(n=>{h(n)})):(this.config.reset&&o.classList.remove(this.config.activeClass),a.forEach(n=>{n.reset&&v(n)}))}})}),this.config=Object.assign({reset:!0,activeClass:"animate",threshold:1,attributes:{animate:"data-animate"}},e),this.map=new WeakMap,k(this,S,"m",N).call(this)}}F=new WeakMap,S=new WeakSet,N=function(){const e=new IntersectionObserver(k(this,F,"f"),{threshold:this.config.threshold});[...document.querySelectorAll(`[${this.config.attributes.animate}]`)].forEach(s=>{const i=s.getAttribute(this.config.attributes.animate),o=k(this,S,"m",x).call(this,i);this.map.set(s,o),e.observe(s)})},x=function(e){const t=e.replace(/'/g,'"').replace(/([a-zA-Z0-9]+):/g,'"$1":').replace(/:(?=[a-zA-Z0-9])/g,':"').replace(/,(?=[a-zA-Z0-9])/g,'",').replace(/}$/,'"}');return[...JSON.parse(t)].filter(i=>{if(i.class!==void 0)return i.delay=i.delay||0,i.reset=typeof i.reset=="boolean"?i.reset:this.config.reset,i})};var Q=globalThis&&globalThis.__awaiter||function(r,e,t,s){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function h(u){try{n(s.next(u))}catch(_){a(_)}}function v(u){try{n(s.throw(u))}catch(_){a(_)}}function n(u){u.done?o(u.value):i(u.value).then(h,v)}n((s=s.apply(r,e||[])).next())})},p=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},g,R,V,O,$,I,G,U,C,M;const y="error";class X{constructor(e,t){g.add(this),this.form=document.querySelector(e),this.config=Object.assign({action:this.form.getAttribute("action")||void 0,errorClass:y,validate:{onChange:!0,onSubmit:!0},customValidation:[],attributes:{inputRelation:"data-input-relation",inputError:"data-input-error"}},t),p(this,g,"m",R).call(this)}}g=new WeakSet,R=function(){this.form.setAttribute("novalidate","true"),p(this,g,"m",O).call(this),p(this,g,"m",V).call(this)},V=function(){this.form.addEventListener("change",e=>{var t;!((t=this.config.validate)===null||t===void 0)&&t.onChange&&p(this,g,"m",$).call(this,e.target)})},O=function(){this.form.addEventListener("submit",e=>{var t;e.preventDefault(),!(!((t=this.config.validate)===null||t===void 0)&&t.onSubmit&&!p(this,g,"m",I).call(this,this.form).valid)&&p(this,g,"m",M).call(this)})},$=function(e){if(!!e&&e.type!=="submit")return e.setCustomValidity(""),p(this,g,"m",G).call(this,e),p(this,g,"m",U).call(this,e)},I=function(e){const t=e.querySelectorAll("input, textarea, select"),s=[];return[...t].forEach(i=>{const o=p(this,g,"m",$).call(this,i);o&&s.push(o)}),{inputs:s,valid:e.checkValidity()}},G=function(e){var t;!((t=this.config.customValidation)===null||t===void 0)&&t.length&&this.config.customValidation.forEach(s=>{if(e.name===s.name){let i=s.validator(e.value);e.setCustomValidity(i)}})},U=function(e){const t=e.checkValidity(),s=e.name;return p(this,g,"m",C).call(this,t,s,[e.validationMessage]),{name:s,valid:t,message:[e.validationMessage]}},C=function(e,t,s){var i,o;const a=this.form.querySelector('[name="'+t+'"]');[...this.form.querySelectorAll(`[${(i=this.config.attributes)===null||i===void 0?void 0:i.inputRelation}="${t}"]`)].forEach(n=>{e?n.classList.remove(this.config.errorClass||y):n.classList.add(this.config.errorClass||y)}),e?a.classList.remove(this.config.errorClass||y):a.classList.add(this.config.errorClass||y);const v=this.form.querySelector(`[${(o=this.config.attributes)===null||o===void 0?void 0:o.inputError}="${t}"]`);v&&(v.innerText=s[0],e?v.classList.add(this.config.errorClass||y):v.classList.remove(this.config.errorClass||y))},M=function(){return Q(this,void 0,void 0,function*(){if(!this.config.action)return;this.config.recaptcha&&(console.log("waiting for recaptcha"),yield this.config.recaptcha.refresh(),console.log("recaptcha done"));const e=new FormData(this.form);fetch(this.config.action,{method:"POST",body:e}).then(t=>t.json()).then(t=>{if(t.errors)for(let s in t.errors)p(this,g,"m",C).call(this,!1,s,t.errors[s])}).catch(t=>{console.log(t)})})};class Y{constructor(e){this.src=e.src,this.key=e.key}addScript(){const e=document.createElement("script");e.src=this.src,e.async=!0,e.defer=!0,document.head.appendChild(e)}setToken(e){sessionStorage.setItem("recaptcha-token",e),sessionStorage.setItem("recaptcha-valid","true")}waitUntilValid(){return new Promise(e=>{sessionStorage.setItem("recaptcha-valid","false");const t=setInterval(()=>{sessionStorage.getItem("recaptcha-valid")==="true"&&(clearInterval(t),e(!0))},50)})}get token(){return sessionStorage.getItem("recaptcha-token")}}var tt=globalThis&&globalThis.__awaiter||function(r,e,t,s){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function h(u){try{n(s.next(u))}catch(_){a(_)}}function v(u){try{n(s.throw(u))}catch(_){a(_)}}function n(u){u.done?o(u.value):i(u.value).then(h,v)}n((s=s.apply(r,e||[])).next())})},et=globalThis&&globalThis.__classPrivateFieldGet||function(r,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(r):s?s.value:e.get(r)},L,z;const D="turnstile-con";class st extends Y{constructor(e){super({src:"https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",key:e}),L.add(this),et(this,L,"m",z).call(this)}refresh(){return tt(this,void 0,void 0,function*(){return turnstile.reset(`#${D}`),yield this.waitUntilValid(),!0})}setInputToken(e){!this.token||e.append("cf-turnstile",this.token)}}L=new WeakSet,z=function(){this.addScript();const e=document.createElement("div");e.id=D;const t=document.querySelector("form");!t||(t.appendChild(e),window.onloadTurnstileCallback=()=>{turnstile.render(`#${D}`,{sitekey:this.key,callback:s=>{this.setToken(s)}})})};new Z({idPrefix:"disclosure_",activeClass:"disclosure-active",targetAttribute:"data-disclosure",duration:200,defaultState:!1,closeAll:!0});new B("siteHeader",{triggerDistance:50,classes:{top:"sticky-top",movedDown:"sticky-down",movedUp:"sticky-up"},onChange:()=>{},onScroll:()=>{}});new J({activeClass:"active",functions:{updateDonkeys:(r,e)=>{console.log("updateDonkeys",r,e)}}});new K({activeClass:"animate",reset:!0,threshold:1});new X("#form",{recaptcha:new st("0x4AAAAAAABGWcyvpwR-o35g"),validate:{onChange:!0,onSubmit:!0},onSuccess:(r,e)=>{console.log("Success",r,e)},onError:(r,e)=>{console.log("Error",r,e)}});
